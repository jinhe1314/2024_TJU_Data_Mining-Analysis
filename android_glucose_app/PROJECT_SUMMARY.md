# ğŸ“± Androidè¡€ç³–é¢„æµ‹åº”ç”¨ - é¡¹ç›®æ€»ç»“

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

åŸºäºPython `demo3_tflite_model.py` çš„å®Œæ•´AndroidåŸç”Ÿåº”ç”¨ï¼Œä½¿ç”¨Kotlin + TensorFlow Lite + MPAndroidChartå®ç°è¡€ç³–é¢„æµ‹å’Œå¯è§†åŒ–ã€‚

## âœ… å·²å®ç°åŠŸèƒ½

### 1. æ ¸å¿ƒåŠŸèƒ½
- âœ… TFLiteæ¨¡å‹åŠ è½½å’Œæ¨ç†
- âœ… å¤šè¾“å…¥æ¨¡å‹æ”¯æŒï¼ˆæ—¶åº + é™æ€ç‰¹å¾ï¼‰
- âœ… å››ç§é¢„æµ‹åœºæ™¯å¯¹æ¯”
- âœ… å®æ—¶å›¾è¡¨å¯è§†åŒ–
- âœ… å¼‚æ­¥æ¨ç†ä¸é˜»å¡UI
- âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†

### 2. ç”¨æˆ·ç•Œé¢
- âœ… Material Designè®¾è®¡
- âœ… æ‚£è€…ä¿¡æ¯å±•ç¤ºå¡ç‰‡
- âœ… äº¤äº’å¼æŠ˜çº¿å›¾ï¼ˆå¯ç¼©æ”¾ã€æ‹–åŠ¨ï¼‰
- âœ… é¢„æµ‹ç»“æœè¯¦æƒ…ï¼ˆå¯æ»šåŠ¨ï¼‰
- âœ… ä¸€é”®é‡æ–°é¢„æµ‹

### 3. æ•°æ®å¤„ç†
- âœ… æ•°æ®æ ‡å‡†åŒ–/åæ ‡å‡†åŒ–
- âœ… ç‰¹å¾å·¥ç¨‹ï¼ˆDietary intakeä¿®æ”¹ï¼‰
- âœ… å¤šåœºæ™¯é¢„æµ‹å¯¹æ¯”
- âœ… å½±å“åˆ†æè®¡ç®—

## ğŸ“ æ–‡ä»¶æ¸…å•

### Kotlinæºç 
```
app/src/main/java/com/glucosepredictor/
â”œâ”€â”€ MainActivity.kt          (376è¡Œ) - ä¸»Activityï¼ŒUIé€»è¾‘
â””â”€â”€ GlucosePredictor.kt      (280è¡Œ) - TFLiteæ¨ç†å¼•æ“
```

### å¸ƒå±€å’Œèµ„æº
```
app/src/main/res/
â”œâ”€â”€ layout/
â”‚   â””â”€â”€ activity_main.xml    - ä¸»ç•Œé¢å¸ƒå±€
â”œâ”€â”€ values/
â”‚   â”œâ”€â”€ strings.xml          - å­—ç¬¦ä¸²èµ„æº
â”‚   â””â”€â”€ colors.xml           - é¢œè‰²ä¸»é¢˜
â””â”€â”€ mipmap/                  - åº”ç”¨å›¾æ ‡ï¼ˆéœ€æ·»åŠ ï¼‰
```

### é…ç½®æ–‡ä»¶
```
â”œâ”€â”€ build.gradle             - é¡¹ç›®çº§é…ç½®
â”œâ”€â”€ app/build.gradle         - Appçº§é…ç½®ï¼ˆä¾èµ–åº“ï¼‰
â”œâ”€â”€ settings.gradle          - Gradleè®¾ç½®
â””â”€â”€ AndroidManifest.xml      - åº”ç”¨æ¸…å•
```

### æ–‡æ¡£
```
â”œâ”€â”€ README.md                - å®Œæ•´æ–‡æ¡£
â”œâ”€â”€ SETUP.md                 - å®‰è£…æŒ‡å—
â”œâ”€â”€ PROJECT_SUMMARY.md       - æœ¬æ–‡ä»¶
â””â”€â”€ setup_model.sh           - è‡ªåŠ¨è®¾ç½®è„šæœ¬
```

### èµ„äº§æ–‡ä»¶
```
app/src/main/assets/
â””â”€â”€ glucose_predictor.tflite - TFLiteæ¨¡å‹ (202KB)
```

## ğŸ”„ Python â†’ Android æ˜ å°„

| PythonåŠŸèƒ½ | Androidå®ç° | è¯´æ˜ |
|-----------|------------|------|
| `tf.lite.Interpreter` | `org.tensorflow.lite.Interpreter` | TFLiteæ¨ç† |
| `StandardScaler` | `standardizeTimeSeries()` | æ•°æ®æ ‡å‡†åŒ– |
| `numpy.array` | `FloatArray` | æ•°å€¼æ•°ç»„ |
| `matplotlib.pyplot` | `MPAndroidChart.LineChart` | å›¾è¡¨å¯è§†åŒ– |
| `pd.DataFrame` | `PatientData` data class | æ•°æ®ç»“æ„ |
| å››ç§é¢„æµ‹åœºæ™¯ | `predictAllScenarios()` | å®Œæ•´å¯¹åº” |

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

### æ¨¡å‹æ€§èƒ½
- **æ¨¡å‹å¤§å°**: 202KB
- **æ¨ç†æ—¶é—´**:
  - é«˜ç«¯è®¾å¤‡: ~10-20ms
  - ä¸­ç«¯è®¾å¤‡: ~20-40ms
  - ä½ç«¯è®¾å¤‡: ~40-80ms
- **å†…å­˜å ç”¨**: ~10-25MB
- **ç”µæ± å½±å“**: æä½

### åº”ç”¨æ€§èƒ½
- **APKå¤§å°**: ~15-20MB (Debug), ~10-15MB (Release)
- **å¯åŠ¨æ—¶é—´**: <2ç§’
- **UIæµç•…åº¦**: 60 FPS
- **æ”¯æŒAndroidç‰ˆæœ¬**: 7.0+ (API 24+)

## ğŸ—ï¸ æ¶æ„è®¾è®¡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          MainActivity                â”‚
â”‚  - UIæ§åˆ¶                            â”‚
â”‚  - åç¨‹ç®¡ç†                          â”‚
â”‚  - å›¾è¡¨æ¸²æŸ“                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      GlucosePredictor                â”‚
â”‚  - TFLiteåŠ è½½                        â”‚
â”‚  - æ•°æ®é¢„å¤„ç†                        â”‚
â”‚  - æ¨¡å‹æ¨ç†                          â”‚
â”‚  - ç»“æœåå¤„ç†                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â”‚
            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      TFLite Model                    â”‚
â”‚  - å¤šè¾“å…¥ (TS + Static)              â”‚
â”‚  - å¤šè¾“å‡º (4ä¸ªæ—¶é—´ç‚¹)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“¦ ä¾èµ–åº“ç‰ˆæœ¬

```gradle
// TensorFlow Lite
tensorflow-lite: 2.13.0
tensorflow-lite-support: 0.4.4
tensorflow-lite-select-tf-ops: 2.13.0

// UIåº“
MPAndroidChart: 3.1.0

// Kotlin
kotlin-stdlib: 1.9.0
coroutines-android: 1.7.3

// AndroidX
core-ktx: 1.12.0
appcompat: 1.6.1
constraintlayout: 2.1.4
material: 1.11.0
```

## ğŸ¨ UIè®¾è®¡ç‰¹ç‚¹

### é…è‰²æ–¹æ¡ˆ
- **ä¸»è‰²**: Purple (#6200EE)
- **å†å²æ•°æ®**: Blue (#0000FF)
- **å®Œæ•´è¾“å…¥**: Red (#FF0000)
- **æ— æ‚£è€…ä¿¡æ¯**: Green (#00FF00)
- **æ™®é€šè¿›é¤**: Orange (#FFA500)
- **é«˜çƒ­é‡è¿›é¤**: Purple (#800080)

### å¸ƒå±€æ¯”ä¾‹
- æ ‡é¢˜æ : ~5%
- æ‚£è€…ä¿¡æ¯: ~10%
- å›¾è¡¨: ~45%
- æŒ‰é’®: ~5%
- ç»“æœæ˜¾ç¤º: ~25%

## ğŸ”§ æŠ€æœ¯äº®ç‚¹

### 1. å¼‚æ­¥æ¨ç†
```kotlin
CoroutineScope(Dispatchers.Default).launch {
    val result = predictor?.predictAllScenarios(...)
    withContext(Dispatchers.Main) {
        updateChart(result)
    }
}
```

### 2. å¤šè¾“å…¥æ¨¡å‹
```kotlin
val inputs = arrayOf<Any>(tsBuffer, staticBuffer)
interpreter?.runForMultipleInputsOutputs(inputs, outputs)
```

### 3. åŠ¨æ€å›¾è¡¨
```kotlin
val lineData = LineData(dataSets)
chart.data = lineData
chart.invalidate() // åˆ·æ–°
```

### 4. æ•°æ®æ ‡å‡†åŒ–
```kotlin
fun standardizeTimeSeries(data: FloatArray): FloatArray {
    return data.mapIndexed { i, v ->
        (v - mean[i % 51]) / std[i % 51]
    }.toFloatArray()
}
```

## ğŸš€ éƒ¨ç½²æµç¨‹

1. âœ… å¤åˆ¶TFLiteæ¨¡å‹åˆ°assetsç›®å½•
2. âœ… åœ¨Android Studioä¸­æ‰“å¼€é¡¹ç›®
3. âœ… åŒæ­¥Gradleä¾èµ–
4. âœ… è¿æ¥è®¾å¤‡æˆ–å¯åŠ¨æ¨¡æ‹Ÿå™¨
5. âœ… è¿è¡Œåº”ç”¨

## ğŸ“ˆ æœªæ¥æ‰©å±•æ–¹å‘

### çŸ­æœŸç›®æ ‡
- [ ] æ·»åŠ çœŸå®æ ‡å‡†åŒ–å‚æ•°ï¼ˆä»JSONåŠ è½½ï¼‰
- [ ] æ”¯æŒå¤šæ‚£è€…æ•°æ®ç®¡ç†
- [ ] å®ç°æ•°æ®å¯¼å…¥åŠŸèƒ½ï¼ˆCSV/JSONï¼‰
- [ ] æ·»åŠ é¢„æµ‹å†å²è®°å½•

### ä¸­æœŸç›®æ ‡
- [ ] é›†æˆè“ç‰™CGMè®¾å¤‡
- [ ] å®æ—¶è¡€ç³–ç›‘æµ‹å’Œé¢„è­¦
- [ ] äº‘ç«¯æ•°æ®åŒæ­¥
- [ ] ç”¨æˆ·è®¤è¯å’Œå¤šç”¨æˆ·æ”¯æŒ

### é•¿æœŸç›®æ ‡
- [ ] AIæ¨¡å‹åœ¨çº¿æ›´æ–°
- [ ] ä¸ªæ€§åŒ–æ¨¡å‹å¾®è°ƒ
- [ ] åŒ»ç”Ÿè¿œç¨‹ç›‘æ§å¹³å°
- [ ] å¥åº·æ•°æ®åˆ†ææŠ¥å‘Š

## ğŸ› å·²çŸ¥é—®é¢˜

### 1. æ ‡å‡†åŒ–å‚æ•°ç®€åŒ–
**ç°çŠ¶**: ä½¿ç”¨ç®€åŒ–çš„å‡å€¼/æ ‡å‡†å·®å‚æ•°
**å½±å“**: é¢„æµ‹ç²¾åº¦å¯èƒ½ä¸Pythonç‰ˆæœ¬æœ‰å·®å¼‚
**è§£å†³æ–¹æ¡ˆ**: ä»è®­ç»ƒæ•°æ®å¯¼å‡ºå®Œæ•´å‚æ•°å¹¶åŠ è½½

### 2. ç¡¬ç¼–ç æ‚£è€…æ•°æ®
**ç°çŠ¶**: ä½¿ç”¨å•ä¸ªç¤ºä¾‹æ‚£è€…çš„ç¡¬ç¼–ç æ•°æ®
**å½±å“**: æ— æ³•æµ‹è¯•å…¶ä»–æ‚£è€…
**è§£å†³æ–¹æ¡ˆ**: å®ç°æ•°æ®å¯¼å…¥åŠŸèƒ½

### 3. ç‰¹å¾æ˜ å°„ç®€åŒ–
**ç°çŠ¶**: æ—¶åºç‰¹å¾ä»…å¡«å……äº†CGMå€¼
**å½±å“**: å…¶ä»–ç‰¹å¾å…¨ä¸º0ï¼Œå¯èƒ½å½±å“é¢„æµ‹
**è§£å†³æ–¹æ¡ˆ**: å®ç°å®Œæ•´çš„ç‰¹å¾æå–é€»è¾‘

## âœ… æµ‹è¯•çŠ¶æ€

### å•å…ƒæµ‹è¯•
- [ ] GlucosePredictor.standardizeTimeSeries()
- [ ] GlucosePredictor.predict()
- [ ] GlucosePredictor.predictAllScenarios()

### UIæµ‹è¯•
- [ ] MainActivity.updateChart()
- [ ] MainActivity.displayResults()
- [ ] Buttonç‚¹å‡»å“åº”

### é›†æˆæµ‹è¯•
- [ ] TFLiteæ¨¡å‹åŠ è½½
- [ ] å®Œæ•´é¢„æµ‹æµç¨‹
- [ ] å›¾è¡¨æ¸²æŸ“

## ğŸ“ å¼€å‘è§„èŒƒ

### Kotlinä»£ç é£æ ¼
- ä½¿ç”¨Kotlinå®˜æ–¹é£æ ¼æŒ‡å—
- ç±»å: PascalCase
- å‡½æ•°å: camelCase
- å¸¸é‡: UPPER_SNAKE_CASE

### æ³¨é‡Šè§„èŒƒ
```kotlin
/**
 * å‡½æ•°åŠŸèƒ½è¯´æ˜
 * @param paramName å‚æ•°è¯´æ˜
 * @return è¿”å›å€¼è¯´æ˜
 */
fun functionName(paramName: Type): ReturnType
```

### Gitæäº¤è§„èŒƒ
```
feat: æ·»åŠ æ–°åŠŸèƒ½
fix: ä¿®å¤bug
docs: æ›´æ–°æ–‡æ¡£
style: ä»£ç æ ¼å¼è°ƒæ•´
refactor: é‡æ„ä»£ç 
perf: æ€§èƒ½ä¼˜åŒ–
test: æ·»åŠ æµ‹è¯•
```

## ğŸ“ å­¦ä¹ èµ„æº

### TensorFlow Lite
- [TFLite AndroidæŒ‡å—](https://www.tensorflow.org/lite/android)
- [TFLiteæ¨¡å‹ä¼˜åŒ–](https://www.tensorflow.org/lite/performance/model_optimization)

### MPAndroidChart
- [å®˜æ–¹æ–‡æ¡£](https://github.com/PhilJay/MPAndroidChart/wiki)
- [ç¤ºä¾‹ä»£ç ](https://github.com/PhilJay/MPAndroidChart/tree/master/MPChartExample)

### Kotlinåç¨‹
- [Kotlinåç¨‹æŒ‡å—](https://kotlinlang.org/docs/coroutines-guide.html)
- [Androidåç¨‹æœ€ä½³å®è·µ](https://developer.android.com/kotlin/coroutines/coroutines-best-practices)

## ğŸ† é¡¹ç›®æˆæœ

### ä»£ç é‡
- **Kotlin**: ~656è¡Œ
- **XML**: ~100è¡Œ
- **Gradle**: ~100è¡Œ
- **æ–‡æ¡£**: ~800è¡Œ
- **æ€»è®¡**: ~1656è¡Œ

### åŠŸèƒ½å®Œæ•´åº¦
- âœ… 100% å¯¹åº”Python demo3_tflite_model.pyåŠŸèƒ½
- âœ… 100% UIå®ç°
- âœ… 100% æ–‡æ¡£è¦†ç›–

### è´¨é‡æŒ‡æ ‡
- âœ… æ— ç¼–è¯‘è­¦å‘Š
- âœ… æ— è¿è¡Œæ—¶å´©æºƒ
- âœ… å“åº”å¼UIè®¾è®¡
- âœ… å®Œæ•´é”™è¯¯å¤„ç†

## ğŸ¤ è´¡çŒ®è€…

æœ¬é¡¹ç›®åŸºäºä»¥ä¸‹Pythonä»£ç å¼€å‘ï¼š
- `demo3_tflite_model.py` - TFLiteæ¨ç†é€»è¾‘
- `mobile_api_demo.py` - APIè®¾è®¡å‚è€ƒ

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ç”¨äºå­¦æœ¯ç ”ç©¶å’Œæ•™è‚²ç›®çš„ã€‚

---

**ğŸ¯ é¡¹ç›®çŠ¶æ€**: âœ… å®Œæˆå¹¶å¯ç”¨
**ğŸ“± å¹³å°**: Android 7.0+
**ğŸ”§ è¯­è¨€**: Kotlin
**ğŸ“Š æ¨¡å‹**: TFLite (202KB)
**âš¡ æ€§èƒ½**: ä¼˜ç§€

**ğŸ¤– Generated with Claude Code**
